"use strict";(self["webpackChunkkinocms"]=self["webpackChunkkinocms"]||[]).push([[114],{114:function(e,i,a){a.r(i),a.d(i,{default:function(){return I}});var n=a(252),l=a(577),s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAWElEQVR4nO3TwQmAQAwAwfTlx/5fdqTYg4erzEAKSJbMAADrbcd+3jNft1kkRpEaRWoUqVGkRpEaRVZe9a0ZizzIj9QoUqNIjSI1itQoUqNIzW+KAMB8wAWNDhvoEO883wAAAABJRU5ErkJggg==";const c={key:0,class:"preloader"},t=(0,n._)("div",{class:"loader"},null,-1),o=[t],m={key:1},A=(0,n._)("h2",null,"Список кінотеатрів",-1),r={class:"films-main"},d={class:"image-delete"},g=["src","onClick"],u=["onClick"],k=["onClick"],h=(0,n._)("img",{src:s,alt:""},null,-1),p=(0,n._)("p",null,"Добавити",-1);function w(e,i,a,s,t,w){const f=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[s.loading?((0,n.wg)(),(0,n.iD)("div",c,o)):(0,n.kq)("",!0),!1===s.loading?((0,n.wg)(),(0,n.iD)("div",m,[(0,n._)("div",null,[A,(0,n._)("div",r,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.cinemas,(i=>((0,n.wg)(),(0,n.iD)("div",{class:"film-main",key:i.id},[(0,n._)("div",d,[i.image?((0,n.wg)(),(0,n.iD)("img",{key:0,src:i.image,class:"imgInput",onClick:e=>w.cinemaClick(i.id)},null,8,g)):(0,n.kq)("",!0),i.image&&s.cinemas.length>1?((0,n.wg)(),(0,n.iD)("span",{key:1,class:"deleteSpan2",onClick:a=>e.deleteCinema(i.id)},"x",8,u)):(0,n.kq)("",!0)]),(0,n._)("p",{onClick:e=>w.cinemaClick(i.id)},(0,l.zw)(i.title),9,k)])))),128)),(0,n.Wm)(f,{to:"/pageTheatre",class:"add-cinema"},{default:(0,n.w5)((()=>[h,p])),_:1})])])])):(0,n.kq)("",!0)],64)}var f=a(262),v=a(355),C=a(650),D={setup(){const e=(0,v.N8)(),i=(0,v.iH)(e,"cinemas"),a=(0,f.iH)(!0),l=(0,f.iH)([]);return(0,n.bv)((()=>{(0,v.jM)(i,(e=>{const i=e.val(),n=[];for(const a in i)n.push({id:i[a].id,title:i[a].nameFilm,image:i[a].imageFirst});l.value=n,setTimeout((()=>{a.value=!1}),2e3)}))})),{cinemas:l,loading:a}},data(){return{}},methods:{cinemaClick(e){this.$router.push({name:"cinema",params:{id:e}})},deleteFilm(e){const i=(0,v.N8)(),a=`cinemas/${e}`,n=(0,v.iH)(i,a);if(this.cinemas.length>1){(0,v.Od)(n).then((()=>{console.log("Item successfully deleted from Realtime Database")})).catch((e=>{console.log("Error deleting item from Realtime Database: ",e)}));const i=(0,C.cF)(),a=`cinemas/${e}/galleryImgs`,l=(0,C.iH)(i,a);(0,C.aF)(l).then((e=>{e.items.forEach((e=>{(0,C.oq)(e).then((()=>{console.log(`Фотографія ${e.name} була успішно видалена!`)})).catch((i=>{console.log(`Сталася помилка при видаленні фотографії ${e.name}:`,i)}))}))}));const s=(0,C.iH)(i,`cinemas/${e}/imageFirst`);(0,C.oq)(s)}}}},E=a(744);const q=(0,E.Z)(D,[["render",w]]);var I=q}}]);
//# sourceMappingURL=114.b0080e1b.js.map
"use strict";(self["webpackChunkkinocms"]=self["webpackChunkkinocms"]||[]).push([[618],{618:function(i,l,e){e.r(l),e.d(l,{default:function(){return I}});var s=e(252),a=e(577);const n={key:0,class:"preloader"},t=(0,s._)("div",{class:"loader"},null,-1),m=[t],c={key:1},o=(0,s._)("h2",null,"Список поточних фільмів",-1),d={class:"films-main"},g={class:"image-delete"},r=["src","onClick"],f=["onClick"],k=["onClick"],u={class:"mt"},h=(0,s._)("h2",null,"Список фільмів, які скоро вийдуть",-1),v={class:"films-main"},C={class:"image-delete"},p=["src","onClick"],D=["onClick"],w=["onClick"];function F(i,l,e,t,F,H){return(0,s.wg)(),(0,s.iD)(s.HY,null,[t.loading?((0,s.wg)(),(0,s.iD)("div",n,m)):(0,s.kq)("",!0),!1===t.loading?((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",null,[o,(0,s._)("div",d,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.films,(i=>((0,s.wg)(),(0,s.iD)("div",{class:"film-main",key:i.id},[(0,s._)("div",g,[i.image?((0,s.wg)(),(0,s.iD)("img",{key:0,src:i.image,class:"imgInput",onClick:l=>H.filmClick(i.id)},null,8,r)):(0,s.kq)("",!0),i.image&&t.films.length>1?((0,s.wg)(),(0,s.iD)("span",{key:1,class:"deleteSpan2",onClick:l=>H.deleteFilm(i.id)},"x",8,f)):(0,s.kq)("",!0)]),(0,s._)("p",{onClick:l=>H.filmClick(i.id)},(0,a.zw)(i.title),9,k)])))),128))])]),(0,s._)("div",u,[h,(0,s._)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.films2,(i=>((0,s.wg)(),(0,s.iD)("div",{class:"film-main",key:i.id},[(0,s._)("div",C,[i.image?((0,s.wg)(),(0,s.iD)("img",{key:0,src:i.image,class:"imgInput",onClick:l=>H.filmClick(i.id)},null,8,p)):(0,s.kq)("",!0),i.image&&t.films2.length>1?((0,s.wg)(),(0,s.iD)("span",{key:1,class:"deleteSpan2",onClick:l=>H.deleteFilm2(i.id)},"x",8,D)):(0,s.kq)("",!0)]),(0,s._)("p",{onClick:l=>H.filmClick(i.id)},(0,a.zw)(i.title),9,w)])))),128))])])])):(0,s.kq)("",!0)],64)}var H=e(262),y=e(355),$=e(650),_={setup(){const i=(0,y.N8)(),l=(0,y.iH)(i,"films"),e=(0,H.iH)(!0),a=(0,H.iH)([]),n=(0,H.iH)([]);return(0,s.bv)((()=>{(0,y.jM)(l,(i=>{const l=i.val(),s=[],t=[];for(const e in l)"Вже вийшов"===l[e].radioData?s.push({id:l[e].id,title:l[e].nameFilm,image:l[e].imageFirst}):t.push({id:l[e].id,title:l[e].nameFilm,image:l[e].imageFirst});a.value=s,n.value=t,setTimeout((()=>{e.value=!1}),2e3)}))})),{films:a,films2:n,loading:e}},data(){return{}},methods:{filmClick(i){this.$router.push({name:"film",params:{id:i}})},deleteFilm(i){const l=(0,y.N8)(),e=`films/${i}`,s=(0,y.iH)(l,e);if(this.films.length>1){(0,y.Od)(s).then((()=>{console.log("Item successfully deleted from Realtime Database")})).catch((i=>{console.log("Error deleting item from Realtime Database: ",i)}));const l=(0,$.cF)(),e=`films/${i}/galleryImgs`,a=(0,$.iH)(l,e);(0,$.aF)(a).then((i=>{i.items.forEach((i=>{(0,$.oq)(i).then((()=>{console.log(`Фотографія ${i.name} була успішно видалена!`)})).catch((l=>{console.log(`Сталася помилка при видаленні фотографії ${i.name}:`,l)}))}))}));const n=(0,$.iH)(l,`films/${i}/imageFirst`);(0,$.oq)(n)}},deleteFilm2(i){const l=(0,y.N8)(),e=`films/${i}`,s=(0,y.iH)(l,e);if(this.films2.length>1){(0,y.Od)(s).then((()=>{console.log("Item successfully deleted from Realtime Database")})).catch((i=>{console.log("Error deleting item from Realtime Database: ",i)}));const l=(0,$.cF)(),e=`films/${i}/galleryImgs`,a=(0,$.iH)(l,e);(0,$.aF)(a).then((i=>{i.items.forEach((i=>{(0,$.oq)(i).then((()=>{console.log(`Фотографія ${i.name} була успішно видалена!`)})).catch((l=>{console.log(`Сталася помилка при видаленні фотографії ${i.name}:`,l)}))}))}));const n=(0,$.iH)(l,`films/${i}/imageFirst`);(0,$.oq)(n)}}}},q=e(744);const b=(0,q.Z)(_,[["render",F]]);var I=b}}]);
//# sourceMappingURL=618.2bb08cf2.js.map
"use strict";(self["webpackChunkkinocms"]=self["webpackChunkkinocms"]||[]).push([[481],{481:function(e,s,a){a.r(s),a.d(s,{default:function(){return ye}});var n=a(252),i=a(963),t=a(577);const l={class:"container"},o={class:"card card-primary"},r=(0,n._)("div",{class:"card-header"},[(0,n._)("h3",{class:"card-title"},"Наскрізний банер на задньому плані")],-1),c={class:"card-body"},d={class:"seamless-input"},p={class:"imageRadio"},h={key:0},b={class:"divRadio"},g=["src"],m={class:"imageRadio"},u={key:0},w={for:"color-input"},k={key:0,class:"message"},f={class:"radio-footer"},v=["disabled"];function y(e,s,a,y,N,B){const T=(0,n.up)("BannerTop"),_=(0,n.up)("BannerNews");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(T),(0,n._)("div",l,[(0,n._)("div",o,[r,(0,n._)("div",null,[(0,n._)("div",c,[(0,n._)("div",d,[(0,n._)("div",null,[(0,n._)("label",p,[(0,n.wy)((0,n._)("input",{type:"radio","onUpdate:modelValue":s[0]||(s[0]=e=>N.selectedOption=e),value:"image"},null,512),[[i.G2,N.selectedOption]]),(0,n.Uk)(" Фото на фон ")]),"image"===N.selectedOption?((0,n.wg)(),(0,n.iD)("div",h,[(0,n._)("input",{type:"file",ref:"fileRadio",class:"input-radio",onChange:s[1]||(s[1]=(...e)=>B.fileRagioBack&&B.fileRagioBack(...e))},null,544),N.imageRadio?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:s[2]||(s[2]=(...e)=>B.radioFileInput&&B.radioFileInput(...e)),class:"btn btn-baner btn-default"},"Добавити")),(0,n._)("div",b,[N.imageRadio?((0,n.wg)(),(0,n.iD)("img",{key:0,src:N.imageRadio,class:"imgInput"},null,8,g)):(0,n.kq)("",!0),N.imageRadio?((0,n.wg)(),(0,n.iD)("button",{key:1,onClick:s[3]||(s[3]=(...e)=>B.deleteImageRadio&&B.deleteImageRadio(...e)),class:"btn btn-baner btn-default"},"Видалити")):(0,n.kq)("",!0)])])):(0,n.kq)("",!0)]),(0,n._)("div",null,[(0,n._)("label",m,[(0,n.wy)((0,n._)("input",{type:"radio","onUpdate:modelValue":s[4]||(s[4]=e=>N.selectedOption=e),value:"color"},null,512),[[i.G2,N.selectedOption]]),(0,n.Uk)(" Просто фон ")]),"color"===N.selectedOption?((0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("label",w,[(0,n.Uk)(" Колір: "),(0,n.wy)((0,n._)("input",{type:"color","onUpdate:modelValue":s[5]||(s[5]=e=>N.selectedColor=e),id:"color-input"},null,512),[[i.nr,N.selectedColor]])]),(0,n._)("div",{style:(0,t.j5)({backgroundColor:N.selectedColor,width:"100px",height:"100px"})},null,4)])):(0,n.kq)("",!0)])])]),N.showMessage?((0,n.wg)(),(0,n.iD)("div",k,(0,t.zw)(N.message),1)):(0,n.kq)("",!0),(0,n._)("div",f,[(0,n._)("button",{onClick:s[6]||(s[6]=(...e)=>B.saveSeamless&&B.saveSeamless(...e)),class:"btn btn-primary",type:"submit",disabled:""===N.selectedOption},"Зберегти",8,v)])])])]),(0,n.Wm)(_)],64)}const N={class:"container"},B={class:"card card-primary"},T={class:"card-header"},_=(0,n._)("h3",{class:"card-title"},"На головній сторінці зверху",-1),C={class:"panel-body"},x={class:"switch"},R=(0,n._)("div",{class:"slider round"},null,-1),D={class:"card-body"},I={class:"file-input"},F={key:1,class:"delete-img"},M=["src"],q=["onClick"],O={key:0,class:"message"},U={class:"card-footer"},H={class:"col-sm-6"},V={class:"form-group"},$=(0,n._)("label",null,"Швидкість обертання",-1),S=(0,n.uE)('<option value="1">1 сек</option><option value="2">2 сек</option><option value="3">3 сек</option><option value="4">4 сек</option><option value="5">5 сек</option>',5),j=[S],E=["disabled"];function L(e,s,a,l,o,r){return(0,n.wg)(),(0,n.iD)("div",N,[(0,n._)("div",B,[(0,n._)("div",T,[_,(0,n._)("div",C,[(0,n._)("label",x,[(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=e=>o.checkboxTopBanner=e),onClick:s[1]||(s[1]=(...e)=>r.toggleCheckbox&&r.toggleCheckbox(...e))},null,512),[[i.e8,o.checkboxTopBanner]]),R])])]),(0,n._)("div",null,[(0,n._)("div",D,[(0,n._)("div",I,[(0,n._)("input",{type:"file",ref:"fileInput2",class:"input-baner",onChange:s[2]||(s[2]=(...e)=>r.handleFileChange&&r.handleFileChange(...e)),multiple:""},null,544),0==o.banerTop.length?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:s[3]||(s[3]=(...e)=>r.triggerFileInput&&r.triggerFileInput(...e)),class:"btn btn-baner btn-default"},"Добавити")):(0,n.kq)("",!0),o.banerTop.length>=1?((0,n.wg)(),(0,n.iD)("div",F,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.banerTop,((e,s)=>((0,n.wg)(),(0,n.iD)("div",{class:"image-delete",key:s},[e?((0,n.wg)(),(0,n.iD)("img",{key:0,src:e.url,class:"imgInput"},null,8,M)):(0,n.kq)("",!0),e?((0,n.wg)(),(0,n.iD)("span",{key:1,class:"deleteSpan",onClick:e=>r.deleteBannerTop(s)},"x",8,q)):(0,n.kq)("",!0)])))),128)),o.banerTop.length>=1?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:s[4]||(s[4]=(...e)=>r.triggerFileInput&&r.triggerFileInput(...e)),class:"btn btn-block btn-default"},"Добавити")):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])]),o.showMessage?((0,n.wg)(),(0,n.iD)("div",O,(0,t.zw)(o.message),1)):(0,n.kq)("",!0),(0,n._)("div",U,[(0,n._)("div",H,[(0,n._)("div",V,[$,(0,n.wy)((0,n._)("select",{class:"form-control","onUpdate:modelValue":s[5]||(s[5]=e=>o.speedTopBanner=e)},j,512),[[i.bM,o.speedTopBanner]])])]),(0,n._)("button",{onClick:s[6]||(s[6]=(...e)=>r.saveBaner&&r.saveBaner(...e)),class:"btn btn-primary",type:"submit",disabled:0===o.banerTop.length},"Зберегти",8,E)])])])])}var K=a(355),P=a(650),A={data(){return{checkboxTopBanner:!1,speedTopBanner:1,banners:{},banerTop:[],fileBanerTop:[],message:"Збережено!",showMessage:!1,doneTop:!1}},methods:{handleFileChange(e){this.fileBanerTop=[...e.target.files];for(let s of this.fileBanerTop){const e=URL.createObjectURL(s);this.banerTop.push({url:e})}},triggerFileInput(){this.$refs.fileInput2.click()},deleteBanerTop(e){this.banerTop.splice(e,1),this.fileBanerTop.splice(e,1)},async deleteBannerTop(e){let s;this.banerTop.forEach(((a,n)=>{n===e&&(s=a)})),this.banerTop.splice(e,1),this.fileBanerTop.splice(e,1);const a=(0,P.cF)(),n=`banners/bannerTop/${s.name}`,i=(0,P.iH)(a,n);try{await(0,P.oq)(i),console.log(`Файл з індексом ${s.name} успішно видалено`)}catch(r){console.error(`Помилка видалення файлу з індексом ${s.name}:`,r)}const t=(0,K.N8)(),l=`banners/bannerTop/image/${e}`,o=(0,K.iH)(t,l);await(0,K.Od)(o).then((()=>{console.log("Item successfully deleted from Realtime Database")})).catch((e=>{console.log("Error deleting item from Realtime Database: ",e)}))},async saveBaner(){const e=(0,K.N8)(),s=(0,P.cF)(),a="banners/bannerTop",n=(0,K.iH)(e,a),i=await(0,K.U2)(n),t=i.val()&&i.val().image||[],l=[...t];this.fileBanerTop!==[]&&await Promise.all(this.fileBanerTop.map((async e=>{const a="bannerTop-"+Date.now()+Math.floor(1e3*Math.random()),n=(0,P.iH)(s,`banners/bannerTop/${a}`);await(0,P.KV)(n,e);const i=await(0,P.Jt)(n);l.push({name:a,url:i})}))),console.log(l),(0,K.Vx)(n,{checked:this.checkboxTopBanner,speed:this.speedTopBanner,image:l}),this.fileBanerTop=[],this.showMessage=!0,setTimeout((()=>{this.showMessage=!1}),3e3)},async getBanners(){const e=(0,K.N8)(),s=(0,K.iH)(e,"banners");await new Promise((e=>{(0,K.jM)(s,(s=>{s.exists()?(this.banners=s.val(),this.doneTop=!0,"undefined"!==typeof this.banners.bannerTop.image&&Array.isArray(this.banners.bannerTop.image)?this.banerTop=this.banners.bannerTop.image:this.banerTop=[],this.checkboxTopBanner=this.banners.bannerTop.checked,this.speedTopBanner=this.banners.bannerTop.speed):(console.log("Баннер не знайдено"),this.doneTop=!1),e()}))}))},toggleCheckbox(){this.checkboxTopBanner=!this.checkboxTopBanner,this.$emit("setCheckboxVal",this.checkboxTopBanner)}},async mounted(){await this.getBanners()}},z=a(744);const J=(0,z.Z)(A,[["render",L]]);var Y=J;const Z={class:"container"},G={class:"card card-primary"},W={class:"card-header"},Q=(0,n._)("h3",{class:"card-title"},"На головній Новини Акції",-1),X={class:"panel-body"},ee={class:"switch"},se=(0,n._)("div",{class:"slider round"},null,-1),ae={class:"card-body"},ne={class:"file-input"},ie={key:1,class:"delete-img"},te=["src"],le=["onClick"],oe={key:0,class:"message"},re={class:"card-footer"},ce={class:"col-sm-6"},de={class:"form-group"},pe=(0,n._)("label",null,"Швидкість обертання",-1),he=(0,n.uE)('<option value="1">1 сек</option><option value="2">2 сек</option><option value="3">3 сек</option><option value="4">4 сек</option><option value="5">5 сек</option>',5),be=[he],ge=["disabled"];function me(e,s,a,l,o,r){return(0,n.wg)(),(0,n.iD)("div",Z,[(0,n._)("div",G,[(0,n._)("div",W,[Q,(0,n._)("div",X,[(0,n._)("label",ee,[(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=e=>o.checkboxBannerNews=e),onClick:s[1]||(s[1]=(...e)=>r.toggleCheckboxNews&&r.toggleCheckboxNews(...e))},null,512),[[i.e8,o.checkboxBannerNews]]),se])])]),(0,n._)("div",null,[(0,n._)("div",ae,[(0,n._)("div",ne,[(0,n._)("input",{type:"file",ref:"fileInputNews",class:"input-baner",onChange:s[2]||(s[2]=(...e)=>r.newsFileChange&&r.newsFileChange(...e)),multiple:""},null,544),0==o.banerNews.length?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:s[3]||(s[3]=(...e)=>r.newsFileInput&&r.newsFileInput(...e)),class:"btn btn-baner btn-default"},"Добавити")):(0,n.kq)("",!0),o.banerNews.length>=1?((0,n.wg)(),(0,n.iD)("div",ie,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.banerNews,((e,s)=>((0,n.wg)(),(0,n.iD)("div",{class:"image-delete",key:s},[e?((0,n.wg)(),(0,n.iD)("img",{key:0,src:e.url,class:"imgInput"},null,8,te)):(0,n.kq)("",!0),e?((0,n.wg)(),(0,n.iD)("span",{key:1,class:"deleteSpan",onClick:e=>r.deleteBannerNews(s)},"x",8,le)):(0,n.kq)("",!0)])))),128)),o.banerNews.length>=1?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:s[4]||(s[4]=(...e)=>r.newsFileInput&&r.newsFileInput(...e)),class:"btn btn-block btn-default"},"Добавити")):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])]),o.showMessage?((0,n.wg)(),(0,n.iD)("div",oe,(0,t.zw)(o.message),1)):(0,n.kq)("",!0),(0,n._)("div",re,[(0,n._)("div",ce,[(0,n._)("div",de,[pe,(0,n.wy)((0,n._)("select",{class:"form-control","onUpdate:modelValue":s[5]||(s[5]=e=>o.speedBannerNews=e)},be,512),[[i.bM,o.speedBannerNews]])])]),(0,n._)("button",{onClick:s[6]||(s[6]=(...e)=>r.saveBanerNews&&r.saveBanerNews(...e)),class:"btn btn-primary",type:"submit",disabled:0===o.banerNews.length},"Зберегти",8,ge)])])])])}var ue={data(){return{checkboxBannerNews:!1,speedBannerNews:1,banners:{},banerNews:[],fileBanerNews:[],message:"Збережено!",showMessage:!1,doneTop:!1}},methods:{newsFileChange(e){this.fileBanerNews=[...e.target.files];for(let s of this.fileBanerNews){const e=URL.createObjectURL(s);this.banerNews.push({url:e})}},newsFileInput(){this.$refs.fileInputNews.click()},async deleteBannerNews(e){let s;this.banerNews.forEach(((a,n)=>{n===e&&(s=a)})),this.banerNews.splice(e,1),this.fileBanerNews.splice(e,1);const a=(0,P.cF)(),n=`banners/bannerNews/${s.name}`,i=(0,P.iH)(a,n);try{await(0,P.oq)(i),console.log(`Файл з індексом ${s.name} успішно видалено`)}catch(r){console.error(`Помилка видалення файлу з індексом ${s.name}:`,r)}const t=(0,K.N8)(),l=`banners/bannerNews/image/${e}`,o=(0,K.iH)(t,l);await(0,K.Od)(o).then((()=>{console.log("Item successfully deleted from Realtime Database")})).catch((e=>{console.log("Error deleting item from Realtime Database: ",e)}))},async saveBanerNews(){const e=(0,K.N8)(),s=(0,P.cF)(),a="banners/bannerNews",n=(0,K.iH)(e,a),i=await(0,K.U2)(n),t=i.val()&&i.val().image||[],l=[...t];this.fileBanerNews!==[]&&await Promise.all(this.fileBanerNews.map((async e=>{const a="bannerNews-"+Date.now()+Math.floor(1e3*Math.random()),n=(0,P.iH)(s,`banners/bannerNews/${a}`);await(0,P.KV)(n,e);const i=await(0,P.Jt)(n);l.push({name:a,url:i})}))),console.log(l),(0,K.Vx)(n,{checked:this.checkboxBannerNews,speed:this.speedBannerNews,image:l}),this.fileBanerNews=[],this.showMessage=!0,setTimeout((()=>{this.showMessage=!1}),3e3)},async getBannersNews(){const e=(0,K.N8)(),s=(0,K.iH)(e,"banners");await new Promise((e=>{(0,K.jM)(s,(s=>{s.exists()?(this.banners=s.val(),this.doneTop=!0,"undefined"!==typeof this.banners.bannerNews.image&&Array.isArray(this.banners.bannerNews.image)?this.banerNews=this.banners.bannerNews.image:this.banerNews=[],this.checkboxBannerNews=this.banners.bannerNews.checked,this.speedBannerNews=this.banners.bannerNews.speed):(console.log("Баннер не знайдено"),this.doneTop=!1),e()}))}))},toggleCheckboxNews(){this.checkboxBannerNews=!this.checkboxBannerNews,this.$emit("setCheckboxVal",this.checkboxBannerNews)}},async mounted(){await this.getBannersNews()}};const we=(0,z.Z)(ue,[["render",me]]);var ke=we,fe={data(){return{selectedOption:"",selectedColor:"#000000",imageRadio:"",fileImageRadio:"",message:"Збережено!",showMessage:!1}},components:{BannerTop:Y,BannerNews:ke},methods:{fileRagioBack(e){const s=e.target.files[0];this.fileImageRadio=s,this.imageRadio=URL.createObjectURL(s)},radioFileInput(){this.$refs.fileRadio.click()},async deleteImageRadio(){if(console.log(this.banners.seamless.imageSeamless),void 0===this.banners.seamless.imageSeamless)this.imageRadio="";else{const e=(0,K.N8)(),s="banners/seamless/imageSeamless",a=(0,K.iH)(e,s);await(0,K.Od)(a).then((()=>{console.log("Item successfully deleted from Realtime Database")})).catch((e=>{console.log("Error deleting item from Realtime Database: ",e)}))}},saveSeamless(){const e=(0,K.N8)(),s=(0,P.cF)(),a="banners/seamless",n=(0,K.iH)(e,a);if("image"===this.selectedOption){const e=(0,P.iH)(s,"banners/seamless/imageSeamless");(0,P.KV)(e,this.fileImageRadio).then((e=>{(0,P.Jt)(e.ref).then((e=>{(0,K.Vx)(n,{select:this.selectedOption,imageSeamless:e})}))}))}else"color"===this.selectedOption&&(0,K.t8)(n,{select:this.selectedOption,color:this.selectedColor});this.showMessage=!0,setTimeout((()=>{this.showMessage=!1}),3e3)},async getSeamless(){const e=(0,K.N8)(),s=(0,K.iH)(e,"banners");await new Promise((e=>{(0,K.jM)(s,(s=>{s.exists()?(this.banners=s.val(),this.selectedOption=this.banners.seamless.select,"image"===this.selectedOption?this.imageRadio=this.banners.seamless.imageSeamless:this.selectedColor=this.banners.seamless.color):console.log("Баннер не знайдено"),e()}))}))}},async mounted(){await this.getSeamless()}};const ve=(0,z.Z)(fe,[["render",y]]);var ye=ve}}]);
//# sourceMappingURL=481.761d98b7.js.map
"use strict";(self["webpackChunkkinocms"]=self["webpackChunkkinocms"]||[]).push([[84],{84:function(e,l,i){i.r(l),i.d(l,{default:function(){return le}});var t=i(252),a=i(963),r=i(577);const s={class:"container"},n={class:"card card-primary"},c=(0,t._)("div",{class:"card-header"},[(0,t._)("h3",{class:"card-title"},"Добавити фільм")],-1),o={class:"card-body"},m={class:"form-group"},d=(0,t._)("label",{for:"nameFilm"},"Назва фільма",-1),p={class:"form-group"},u=(0,t._)("label",{for:"description"},"Опис",-1),g={class:"file-input"},h=(0,t._)("label",{for:"holovnaImg"},"Головна картинка",-1),y={class:"image-delete_btn"},f={class:"image-delete"},k=["src"],_={class:"file-input"},b=(0,t._)("label",{for:"holovnaImg"},"Галерея картинок",-1),F={class:"image-delete_btn2"},I=["src"],v=["onClick"],w={class:"form-group"},S=(0,t._)("label",null,"Посилання на трейлер",-1),D={class:"form-group"},C=(0,t._)("label",null,"Тип фільма",-1),U={class:"form-main"},V=["onClick"],x=["onUpdate:modelValue","id"],q=["for"],T={class:"form-group"},G=(0,t._)("label",null,"Фільм",-1),H={class:"form-main"},K=["onClick"],L=["id","value"],R=["for"],$={class:"form-group"},E=(0,t._)("h5",null,"SEO блок:",-1),M=(0,t._)("label",null,"URL",-1),O={class:"form-group"},Y=(0,t._)("label",null,"Title",-1),j={class:"form-group"},z=(0,t._)("label",null,"Keywords",-1),A={class:"form-group"},J=(0,t._)("label",null,"Description",-1),X={class:"card-footer"},N=(0,t._)("button",{class:"btn btn-primary"},"Повернути базову версію",-1);function Z(e,l,i,Z,B,P){return(0,t.wg)(),(0,t.iD)("div",s,[(0,t._)("div",n,[c,(0,t._)("form",{onSubmit:l[15]||(l[15]=(0,a.iM)(((...e)=>P.saveFilm&&P.saveFilm(...e)),["prevent"]))},[(0,t._)("div",o,[(0,t._)("div",m,[d,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",id:"nameFilm",placeholder:"Введіть назву фільма","onUpdate:modelValue":l[0]||(l[0]=e=>B.nameFilm=e),required:""},null,512),[[a.nr,B.nameFilm]])]),(0,t._)("div",p,[u,(0,t.wy)((0,t._)("textarea",{type:"text",class:"form-control",id:"description",placeholder:"Текст","onUpdate:modelValue":l[1]||(l[1]=e=>B.description=e),required:""},null,512),[[a.nr,B.description]])]),(0,t._)("div",g,[h,null===B.imageSrc?((0,t.wg)(),(0,t.iD)("input",{key:0,type:"file",ref:"fileInput",class:"file-input__input",onChange:l[2]||(l[2]=(...e)=>P.handleFileChange&&P.handleFileChange(...e)),required:""},null,544)):(0,t.kq)("",!0),null===B.imageSrc?((0,t.wg)(),(0,t.iD)("button",{key:1,onClick:l[3]||(l[3]=(...e)=>P.triggerFileInput&&P.triggerFileInput(...e)),class:"btn btn-block btn-default"},"Добавити")):(0,t.kq)("",!0),(0,t._)("div",y,[(0,t._)("div",f,[B.imageSrc?((0,t.wg)(),(0,t.iD)("img",{key:0,src:B.imageSrc,class:"imgInput"},null,8,k)):(0,t.kq)("",!0)]),null!==B.imageSrc?((0,t.wg)(),(0,t.iD)("button",{key:0,onClick:l[4]||(l[4]=(...e)=>P.deleteImageSrc&&P.deleteImageSrc(...e)),class:"btn btn-block btn-default"},"Видалити")):(0,t.kq)("",!0)])]),(0,t._)("div",_,[b,(0,t._)("input",{type:"file",ref:"fileInput2",class:"file-input__input",onChange:l[5]||(l[5]=(...e)=>P.handleFileChange2&&P.handleFileChange2(...e)),multiple:""},null,544),B.galleryImgs==[]?((0,t.wg)(),(0,t.iD)("button",{key:0,onClick:l[6]||(l[6]=(...e)=>P.triggerFileInput2&&P.triggerFileInput2(...e)),class:"btn btn-block btn-default"},"Добавити")):(0,t.kq)("",!0),(0,t._)("div",F,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(B.galleryImgs,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"image-delete",key:l},[e?((0,t.wg)(),(0,t.iD)("img",{key:0,src:e,class:"imgInput"},null,8,I)):(0,t.kq)("",!0),e?((0,t.wg)(),(0,t.iD)("span",{key:1,class:"deleteSpan",onClick:e=>P.deleteGalleryImg(l)},"x",8,v)):(0,t.kq)("",!0)])))),128)),B.galleryImgs!=[]?((0,t.wg)(),(0,t.iD)("button",{key:0,onClick:l[7]||(l[7]=(...e)=>P.triggerFileInput2&&P.triggerFileInput2(...e)),class:"btn btn-block btn-default"},"Добавити")):(0,t.kq)("",!0)])]),(0,t._)("div",w,[S,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Введіть посилання на трейлер","onUpdate:modelValue":l[8]||(l[8]=e=>B.linkTrailer=e)},null,512),[[a.nr,B.linkTrailer]])]),(0,t._)("div",D,[C,(0,t._)("div",U,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(B.typeFilms,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"form-check",key:l,onClick:i=>P.pushTypeFilm(e,l)},[(0,t.wy)((0,t._)("input",{class:"form-check-input","onUpdate:modelValue":l=>e.checked=l,type:"checkbox",id:e.type},null,8,x),[[a.e8,e.checked]]),(0,t._)("label",{class:"form-check-label",for:e.type},(0,r.zw)(e.type),9,q)],8,V)))),128))])]),(0,t._)("div",T,[G,(0,t._)("div",H,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(B.dataFilms,((i,s)=>((0,t.wg)(),(0,t.iD)("div",{class:"form-check",key:s,onClick:l=>e.pushDataFilms(i,s)},[(0,t.wy)((0,t._)("input",{class:"form-check-input","onUpdate:modelValue":l[9]||(l[9]=e=>B.radioData=e),type:"radio",id:i.name,name:"name",value:i.name},null,8,L),[[a.G2,B.radioData]]),(0,t._)("label",{class:"form-check-label",for:i.name},(0,r.zw)(i.name),9,R)],8,K)))),128))])]),(0,t._)("div",$,[E,M,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"URL","onUpdate:modelValue":l[10]||(l[10]=e=>B.url=e)},null,512),[[a.nr,B.url]])]),(0,t._)("div",O,[Y,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Title","onUpdate:modelValue":l[11]||(l[11]=e=>B.title=e)},null,512),[[a.nr,B.title]])]),(0,t._)("div",j,[z,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"word","onUpdate:modelValue":l[12]||(l[12]=e=>B.keywords=e)},null,512),[[a.nr,B.keywords]])]),(0,t._)("div",A,[J,(0,t.wy)((0,t._)("textarea",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":l[13]||(l[13]=e=>B.descriptionSeo=e)},"\r\n            ",512),[[a.nr,B.descriptionSeo]])])]),(0,t._)("div",X,[(0,t._)("button",{onClick:l[14]||(l[14]=(...e)=>P.saveFilm&&P.saveFilm(...e)),class:"btn btn-primary"},"Зберегти"),N])],32)])])}var B=i(355),P=i(650),Q={setup(){},data(){return{nameFilm:"",description:"",imageSrc:null,imageSrc2:null,galleryImgs:[],linkTrailer:"",typeFilms:[{type:"2D",checked:!1},{type:"3D",checked:!1},{type:"IMAX",checked:!1}],url:"",title:"",keywords:"",descriptionSeo:"",typeFilm:[],imageUrl:"",fileImgSrc:null,fileGalleryImg:[],dataFilms:[{name:"Вже вийшов"},{name:"Скоро вийде"}],radioData:"",dataFilm:[]}},methods:{handleFileChange(e){this.fileImgSrc=e.target.files[0],this.imageSrc=URL.createObjectURL(this.fileImgSrc)},handleFileChange2(e){this.fileGalleryImg=[...e.target.files];for(let l of this.fileGalleryImg)this.imageSrc2=URL.createObjectURL(l),this.galleryImgs.push(this.imageSrc2)},triggerFileInput(){this.$refs.fileInput.click()},triggerFileInput2(){this.$refs.fileInput2.click()},deleteImageSrc(){this.imageSrc=null},deleteGalleryImg(e){this.galleryImgs.splice(e,1)},pushTypeFilm(e,l){this.typeFilm.includes(e.type)||!1!==e.checked?this.typeFilm.includes(e.type)&&!0===e.checked&&(this.typeFilm.forEach((function(i,t,a){e.type===i&&(l=t)})),this.typeFilm.splice(l,1)):(this.typeFilm.push(e.type),console.log(this.typeFilm))},async saveFilm(){const e=(0,B.N8)(),l=(0,P.cF)(),i=`films/${this.nameFilm}`,t=(0,B.iH)(e,i);if((0,B.t8)(t,{id:t.key,nameFilm:this.nameFilm,description:this.description,imageFirst:this.fileImgSrc,galleryImgs:this.fileGalleryImg,linkTrailer:this.linkTrailer,typeFilm:this.typeFilm,radioData:this.radioData,url:this.url,title:this.title,keywords:this.keywords,descriptionSeo:this.descriptionSeo}),this.fileImgSrc){const e=(0,P.iH)(l,`films/${t.key}/imageFirst`);(0,P.KV)(e,this.fileImgSrc).then((e=>{(0,P.Jt)(e.ref).then((e=>{(0,B.Vx)(t,{imageFirst:e})}))}))}const a=[];this.fileGalleryImg.forEach(((e,i)=>{const r=(0,P.iH)(l,`films/${t.key}/galleryImgs/${i}`);(0,P.KV)(r,e).then((e=>{(0,P.Jt)(e.ref).then((e=>{a[i]=e,a.length===this.fileGalleryImg.length&&(0,B.Vx)(t,{galleryImages:a})}))}))})),this.nameFilm="",this.description="",this.imageSrc=null,this.galleryImgs=[],this.linkTrailer="",this.typeFilms=[{type:"2D",checked:!1},{type:"3D",checked:!1},{type:"IMAX",checked:!1}],this.url="",this.title="",this.keywords="",this.descriptionSeo=""}}},W=i(744);const ee=(0,W.Z)(Q,[["render",Z]]);var le=ee}}]);
//# sourceMappingURL=84.f299f347.js.map
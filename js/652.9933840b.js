"use strict";(self["webpackChunkkinocms"]=self["webpackChunkkinocms"]||[]).push([[652],{652:function(i,l,e){e.r(l),e.d(l,{default:function(){return I}});var s=e(252),a=e(577);const n={key:0,class:"preloader"},m=(0,s._)("div",{class:"loader"},null,-1),t=[m],c={key:1},o=(0,s._)("h2",null,"Список поточних фільмів",-1),d={class:"films-main"},r={class:"image-delete"},g=["src"],u={key:1,class:"deleteSpan"},k=["onClick"],f={class:"mt"},p=(0,s._)("h2",null,"Список фільмів, які скоро вийдуть",-1),v={class:"films-main"},h={class:"image-delete"},w=["src","onClick"],C=["onClick"],D=["onClick"];function _(i,l,e,m,_,y){const H=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[m.loading?((0,s.wg)(),(0,s.iD)("div",n,t)):(0,s.kq)("",!0),!1===m.loading?((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",null,[o,(0,s._)("div",d,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.films,(i=>((0,s.wg)(),(0,s.iD)("div",{class:"film-main",key:i.id},[(0,s._)("div",r,[(0,s.Wm)(H,{to:{name:"film",params:{id:i.id}}},{default:(0,s.w5)((()=>[i.image?((0,s.wg)(),(0,s.iD)("img",{key:0,src:i.image,class:"imgInput"},null,8,g)):(0,s.kq)("",!0),i.image?((0,s.wg)(),(0,s.iD)("span",u,"x")):(0,s.kq)("",!0)])),_:2},1032,["to"])]),(0,s._)("p",{onClick:l=>y.filmClick(i.id)},(0,a.zw)(i.title),9,k)])))),128))])]),(0,s._)("div",f,[p,(0,s._)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.films2,(i=>((0,s.wg)(),(0,s.iD)("div",{class:"film-main",key:i.id},[(0,s._)("div",h,[i.image?((0,s.wg)(),(0,s.iD)("img",{key:0,src:i.image,class:"imgInput",onClick:l=>y.filmClick(i.id)},null,8,w)):(0,s.kq)("",!0),i.image?((0,s.wg)(),(0,s.iD)("span",{key:1,class:"deleteSpan",onClick:l=>y.deleteFilm(i.id)},"x",8,C)):(0,s.kq)("",!0)]),(0,s._)("p",{onClick:l=>y.filmClick(i.id)},(0,a.zw)(i.title),9,D)])))),128))])])])):(0,s.kq)("",!0)],64)}var y=e(262),H=e(355),F=e(650),q={setup(){const i=(0,H.N8)(),l=(0,H.iH)(i,"films"),e=(0,y.iH)(!0),a=(0,y.iH)([]),n=(0,y.iH)([]);return(0,s.bv)((()=>{(0,H.jM)(l,(i=>{const l=i.val(),s=[],m=[];for(const e in l)"Вже вийшов"===l[e].radioData?s.push({id:l[e].id,title:l[e].nameFilm,image:l[e].imageFirst}):m.push({id:l[e].id,title:l[e].nameFilm,image:l[e].imageFirst});a.value=s,n.value=m,setTimeout((()=>{e.value=!1}),2e3)}))})),{films:a,films2:n,loading:e}},data(){return{}},methods:{filmClick(i){this.$router.push({name:"film",params:{id:i}})},deleteFilm(i){const l=(0,H.N8)(),e=`films/${i}`,s=(0,H.iH)(l,e);(0,H.Od)(s).then((()=>{console.log("Item successfully deleted from Realtime Database")})).catch((i=>{console.log("Error deleting item from Realtime Database: ",i)}));const a=(0,F.cF)(),n=`films/${i}/galleryImgs`,m=(0,F.iH)(a,n);(0,F.aF)(m).then((i=>{i.items.forEach((i=>{(0,F.oq)(i).then((()=>{console.log(`Фотографія ${i.name} була успішно видалена!`)})).catch((l=>{console.log(`Сталася помилка при видаленні фотографії ${i.name}:`,l)}))}))}));const t=(0,F.iH)(a,`films/${i}/imageFirst`);(0,F.oq)(t)}}},$=e(744);const b=(0,$.Z)(q,[["render",_]]);var I=b}}]);
//# sourceMappingURL=652.9933840b.js.map
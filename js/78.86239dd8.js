"use strict";(self["webpackChunkkinocms"]=self["webpackChunkkinocms"]||[]).push([[78],{78:function(l,e,a){a.r(e),a.d(e,{default:function(){return jl}});var t=a(252),n=a(963),i=a(577),s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABTUlEQVR4nO2ZvUrEQBRGT2GrhaWPIdhrLdqJnT/jvzbb+RzrI2xt4wPYWNgslvsG2lhpoyJklYERhmUSExu/G+6BEEhS3MOXuQlzwXG6sgLcAC/AG3APbGOMXeAT+CocVxhhDhjXSPwcWxhhEXhoELlDmCPgCVhrIfOKKKfANBW5nl2vk3lGXGJQuF+SucaYREkmdrNlDErkMuPUmk1KbACrWWuW4aSDxCA9F7sZ1iWmwDFCHAJVKu6yg8QFQvRC4sAlRPAkrCdxjhAuoUIvkgguIULwJEQInoQIwZMwnsQZQgSXECH0IYl9lxBhL0ui7eZZlX7hZVgA3q1LRDazBRs3mNss7Kbn/o1hNkSpK1JeIjKZmQjNFmtCYinbIS/JmJCI7DSMgavsHD+S0ox+Gc5/pNYsz2Oh+ElqAHHsNY8RbpPMKL1mcc04Dn/jG2ZuF5tGhdokAAAAAElFTkSuQmCC",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4UlEQVR4nO2aWwrCMBBFz1cXpW5Pq9syIC6k7TYihghBGNpq2oT2HpifkD4uk/OTBMR2aYAbMAB+pHqgjc9Ux3VCgO+6UCF9/LnDhLnHpDPV4WMtNX81qg7iflj3S5XbSpB7js6UWs8+93cV5E+8OmKwq6X1BB4ZxosHsebMHU9REAt1BC2tgByxkCPIkYAcsZAjyJGAHLGQI8iRgByxkCPIkYAcsZAjyJFyjjjjDGPueIo2sS12tYm9BF5BRi4DvA/61+IUv9nlfGlb8DT3nDNIE8N8OrNGdTFElRdvBCO8ANmR2PPM+wVVAAAAAElFTkSuQmCC",r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAbElEQVR4nNXU0Q2AIAxFUZZwBolx/zl0omNM/EQFbIz2t30Xmr42pd8EBuQOXd61Z4kVUwNsOjTlj2DEgrkCVlerorDl4VtBM+xK2A0rAR7DCpNscsA7QJEtixyKSNuINLbI1RN9HESfr8/GBln+JzDpJJuNAAAAAElFTkSuQmCC";const c={class:"container"},m={class:"card card-primary"},d=(0,t._)("div",{class:"card-header"},[(0,t._)("h3",{class:"card-title"},"Добавити кінотеатр")],-1),g={class:"card-body"},u={class:"form-group"},h=(0,t._)("label",{for:"nameCinema"},"Назва кінотеатра",-1),p={class:"form-group"},b=(0,t._)("label",{for:"description"},"Опис",-1),f={class:"form-group"},y=(0,t._)("label",{for:"conditions"},"Умова",-1),k={class:"file-input"},A=(0,t._)("label",{for:"holovnaImg"},"Логотип",-1),_={class:"image-delete_btn"},H={class:"image-delete"},w=["src"],C={class:"file-input"},F=(0,t._)("label",{for:"holovnaImg"},"Фото верхнього банера",-1),v={class:"image-delete_btn"},I={class:"image-delete"},D=["src"],B={class:"file-input"},L=(0,t._)("label",{for:"holovnaImg"},"Галерея картинок",-1),U={class:"image-delete_btn2"},S=["src"],x=["onClick"],V={class:"row"},E={class:"col-12"},R={class:"card"},q=(0,t._)("div",{class:"card-header"},[(0,t._)("h3",{class:"card-title"},"Список залів")],-1),G={class:"card-body table-responsive p-0"},N={class:"table table-hover text-nowrap"},K=(0,t._)("thead",null,[(0,t._)("tr",null,[(0,t._)("th",null,"Назва"),(0,t._)("th",null,"Дата створення"),(0,t._)("th"),(0,t._)("th")])],-1),M=(0,t._)("img",{src:s,alt:""},null,-1),j=(0,t._)("img",{src:o,alt:""},null,-1),O=[j],Q={class:"card-header"},X=(0,t._)("h3",{class:"card-title"},"Добавити зал",-1),Y=(0,t._)("img",{src:r,alt:""},null,-1),J=[Y],P={class:"card-body"},T={class:"form-group"},$=(0,t._)("label",{for:"nameHall"},"Назва зала",-1),W={class:"form-group"},Z=(0,t._)("label",{for:"dataHall"},"Дата створення",-1),z={class:"form-group"},ll=(0,t._)("label",{for:"descriptionHall"},"Опис",-1),el={class:"file-input"},al=(0,t._)("label",{for:"holovnaImg"},"Схема зала",-1),tl={class:"image-delete_btn"},nl={class:"image-delete"},il=["src"],sl={class:"file-input"},ol=(0,t._)("label",{for:"holovnaImg"},"Верхній банер",-1),rl={class:"image-delete_btn"},cl={class:"image-delete"},ml=["src"],dl={class:"file-input"},gl=(0,t._)("label",{for:"holovnaImg"},"Галерея картинок",-1),ul={class:"image-delete_btn2"},hl=["src"],pl=["onClick"],bl={class:"form-group"},fl=(0,t._)("h5",null,"SEO блок:",-1),yl=(0,t._)("label",null,"URL",-1),kl={class:"form-group"},Al=(0,t._)("label",null,"Title",-1),_l={class:"form-group"},Hl=(0,t._)("label",null,"Keywords",-1),wl={class:"form-group"},Cl=(0,t._)("label",null,"Description",-1),Fl={class:"card-footer"},vl={class:"form-group"},Il=(0,t._)("h5",null,"SEO блок:",-1),Dl=(0,t._)("label",null,"URL",-1),Bl={class:"form-group"},Ll=(0,t._)("label",null,"Title",-1),Ul={class:"form-group"},Sl=(0,t._)("label",null,"Keywords",-1),xl={class:"form-group"},Vl=(0,t._)("label",null,"Description",-1),El={class:"card-footer"};function Rl(l,e,a,s,o,r){const j=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",c,[(0,t._)("div",m,[d,(0,t._)("div",null,[(0,t._)("div",g,[(0,t._)("div",u,[h,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",id:"nameCinema",placeholder:"Введіть назву кінотеатра","onUpdate:modelValue":e[0]||(e[0]=l=>o.nameCinema=l),required:""},null,512),[[n.nr,o.nameCinema]])]),(0,t._)("div",p,[b,(0,t.wy)((0,t._)("textarea",{type:"text",class:"form-control",id:"description",placeholder:"Текст","onUpdate:modelValue":e[1]||(e[1]=l=>o.description=l)},null,512),[[n.nr,o.description]])]),(0,t._)("div",f,[y,(0,t.wy)((0,t._)("textarea",{type:"text",class:"form-control",id:"conditions",placeholder:"Текст","onUpdate:modelValue":e[2]||(e[2]=l=>o.conditions=l)},null,512),[[n.nr,o.conditions]])]),(0,t._)("div",k,[A,null===o.cinemaLogo?((0,t.wg)(),(0,t.iD)("input",{key:0,type:"file",ref:"cinemaLogo",class:"file-input__input",onChange:e[3]||(e[3]=(...l)=>r.changeFileCinema&&r.changeFileCinema(...l))},null,544)):(0,t.kq)("",!0),null===o.cinemaLogo?((0,t.wg)(),(0,t.iD)("button",{key:1,onClick:e[4]||(e[4]=(...l)=>r.triggerCinemaLogo&&r.triggerCinemaLogo(...l)),class:"btn btn-block btn-default"},"Добавити")):(0,t.kq)("",!0),(0,t._)("div",_,[(0,t._)("div",H,[o.cinemaLogo?((0,t.wg)(),(0,t.iD)("img",{key:0,src:o.cinemaLogo,class:"imgInput"},null,8,w)):(0,t.kq)("",!0)]),null!==o.cinemaLogo?((0,t.wg)(),(0,t.iD)("button",{key:0,onClick:e[5]||(e[5]=(...l)=>r.deleteCinemaLogo&&r.deleteCinemaLogo(...l)),class:"btn btn-block btn-default"},"Видалити")):(0,t.kq)("",!0)])]),(0,t._)("div",C,[F,null===o.bannerFoto?((0,t.wg)(),(0,t.iD)("input",{key:0,type:"file",ref:"bannerFoto",class:"file-input__input",onChange:e[6]||(e[6]=(...l)=>r.changeFileBanner&&r.changeFileBanner(...l))},null,544)):(0,t.kq)("",!0),null===o.bannerFoto?((0,t.wg)(),(0,t.iD)("button",{key:1,onClick:e[7]||(e[7]=(...l)=>r.triggerBannerFoto&&r.triggerBannerFoto(...l)),class:"btn btn-block btn-default"},"Добавити")):(0,t.kq)("",!0),(0,t._)("div",v,[(0,t._)("div",I,[o.bannerFoto?((0,t.wg)(),(0,t.iD)("img",{key:0,src:o.bannerFoto,class:"imgInput"},null,8,D)):(0,t.kq)("",!0)]),null!==o.bannerFoto?((0,t.wg)(),(0,t.iD)("button",{key:0,onClick:e[8]||(e[8]=(...l)=>r.deleteBannerFoto&&r.deleteBannerFoto(...l)),class:"btn btn-block btn-default"},"Видалити")):(0,t.kq)("",!0)])]),(0,t._)("div",B,[L,(0,t._)("input",{type:"file",ref:"fileInput2",class:"file-input__input",onChange:e[9]||(e[9]=(...l)=>r.handleFileChange2&&r.handleFileChange2(...l)),multiple:""},null,544),o.galleryImgs==[]?((0,t.wg)(),(0,t.iD)("button",{key:0,onClick:e[10]||(e[10]=(...l)=>r.triggerFileInput2&&r.triggerFileInput2(...l)),class:"btn btn-block btn-default"},"Добавити")):(0,t.kq)("",!0),(0,t._)("div",U,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.galleryImgs,((l,e)=>((0,t.wg)(),(0,t.iD)("div",{class:"image-delete",key:e},[l?((0,t.wg)(),(0,t.iD)("img",{key:0,src:l,class:"imgInput"},null,8,S)):(0,t.kq)("",!0),l?((0,t.wg)(),(0,t.iD)("span",{key:1,class:"deleteSpan",onClick:l=>r.deleteGalleryImg(e)},"x",8,x)):(0,t.kq)("",!0)])))),128)),o.galleryImgs!=[]?((0,t.wg)(),(0,t.iD)("button",{key:0,onClick:e[11]||(e[11]=(...l)=>r.triggerFileInput2&&r.triggerFileInput2(...l)),class:"btn btn-block btn-default"},"Добавити")):(0,t.kq)("",!0)])]),(0,t._)("div",V,[(0,t._)("div",E,[(0,t._)("div",R,[q,(0,t._)("div",G,[(0,t._)("table",N,[K,(0,t._)("tbody",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.halls,((l,a)=>((0,t.wg)(),(0,t.iD)("tr",{key:a},[(0,t._)("td",null,(0,i.zw)(l.name),1),(0,t._)("td",null,(0,i.zw)(l.data),1),(0,t._)("td",null,[(0,t.Wm)(j,{to:"/"},{default:(0,t.w5)((()=>[M])),_:1})]),(0,t._)("td",{onClick:e[12]||(e[12]=(...l)=>r.deleteHall&&r.deleteHall(...l))},O)])))),128))])])])])]),(0,t._)("button",{onClick:e[13]||(e[13]=(...l)=>r.addHall&&r.addHall(...l)),class:"btn btn-block btn-default"},"Створити зал")]),!0===o.modalHall?((0,t.wg)(),(0,t.iD)("div",{key:0,class:"modal-hall",onClick:e[34]||(e[34]=(0,n.iM)(((...l)=>r.closeHall&&r.closeHall(...l)),["self"]))},[(0,t._)("div",{class:"card card-primary modal-width",onClick:e[33]||(e[33]=(0,n.iM)((()=>{}),["stop"]))},[(0,t._)("div",Q,[X,(0,t._)("div",{class:"close-hall",onClick:e[14]||(e[14]=(...l)=>r.closeHall&&r.closeHall(...l))},J)]),(0,t._)("form",{onSubmit:e[32]||(e[32]=(0,n.iM)(((...l)=>r.saveHall&&r.saveHall(...l)),["prevent"]))},[(0,t._)("div",P,[(0,t._)("div",T,[$,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",id:"nameHall",placeholder:"Введіть назву зала","onUpdate:modelValue":e[15]||(e[15]=e=>l.nameHall=e),required:""},null,512),[[n.nr,l.nameHall]])]),(0,t._)("div",W,[Z,(0,t.wy)((0,t._)("input",{type:"date",class:"form-date",id:"dataHall","onUpdate:modelValue":e[16]||(e[16]=e=>l.dateHall=e),required:""},null,512),[[n.nr,l.dateHall]])]),(0,t._)("div",z,[ll,(0,t.wy)((0,t._)("textarea",{type:"text",class:"form-control",id:"descriptionHall",placeholder:"Текст","onUpdate:modelValue":e[17]||(e[17]=l=>o.descriptionHall=l)},null,512),[[n.nr,o.descriptionHall]])]),(0,t._)("div",el,[al,null===o.schemeHall?((0,t.wg)(),(0,t.iD)("input",{key:0,type:"file",ref:"schemeHall",class:"file-input__input",onChange:e[18]||(e[18]=(...l)=>r.changeFileHall&&r.changeFileHall(...l))},null,544)):(0,t.kq)("",!0),null===o.schemeHall?((0,t.wg)(),(0,t.iD)("button",{key:1,onClick:e[19]||(e[19]=(...l)=>r.triggerSchemeHall&&r.triggerSchemeHall(...l)),class:"btn btn-block btn-default"},"Добавити")):(0,t.kq)("",!0),(0,t._)("div",tl,[(0,t._)("div",nl,[o.schemeHall?((0,t.wg)(),(0,t.iD)("img",{key:0,src:o.schemeHall,class:"imgInput"},null,8,il)):(0,t.kq)("",!0)]),null!==o.schemeHall?((0,t.wg)(),(0,t.iD)("button",{key:0,onClick:e[20]||(e[20]=(...l)=>r.deleteSchemeHall&&r.deleteSchemeHall(...l)),class:"btn btn-block btn-default"},"Видалити")):(0,t.kq)("",!0)])]),(0,t._)("div",sl,[ol,null===o.bannerFoto2?((0,t.wg)(),(0,t.iD)("input",{key:0,type:"file",ref:"bannerFoto2",class:"file-input__input",onChange:e[21]||(e[21]=(...l)=>r.changeFileBanner2&&r.changeFileBanner2(...l))},null,544)):(0,t.kq)("",!0),null===o.bannerFoto2?((0,t.wg)(),(0,t.iD)("button",{key:1,onClick:e[22]||(e[22]=(...l)=>r.triggerBannerFoto2&&r.triggerBannerFoto2(...l)),class:"btn btn-block btn-default"},"Добавити")):(0,t.kq)("",!0),(0,t._)("div",rl,[(0,t._)("div",cl,[o.bannerFoto2?((0,t.wg)(),(0,t.iD)("img",{key:0,src:o.bannerFoto2,class:"imgInput"},null,8,ml)):(0,t.kq)("",!0)]),null!==o.bannerFoto2?((0,t.wg)(),(0,t.iD)("button",{key:0,onClick:e[23]||(e[23]=(...l)=>r.deleteBannerFoto2&&r.deleteBannerFoto2(...l)),class:"btn btn-block btn-default"},"Видалити")):(0,t.kq)("",!0)])]),(0,t._)("div",dl,[gl,(0,t._)("input",{type:"file",ref:"fileHall",class:"file-input__input",onChange:e[24]||(e[24]=(...l)=>r.handleFileHall&&r.handleFileHall(...l)),multiple:""},null,544),o.galleryImgs2==[]?((0,t.wg)(),(0,t.iD)("button",{key:0,onClick:e[25]||(e[25]=(...l)=>r.triggerFileHall&&r.triggerFileHall(...l)),class:"btn btn-block btn-default"},"Добавити")):(0,t.kq)("",!0),(0,t._)("div",ul,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.galleryImgs2,((l,e)=>((0,t.wg)(),(0,t.iD)("div",{class:"image-delete",key:e},[l?((0,t.wg)(),(0,t.iD)("img",{key:0,src:l,class:"imgInput"},null,8,hl)):(0,t.kq)("",!0),l?((0,t.wg)(),(0,t.iD)("span",{key:1,class:"deleteSpan",onClick:l=>r.deleteGalleryImg2(e)},"x",8,pl)):(0,t.kq)("",!0)])))),128)),o.galleryImgs!=[]?((0,t.wg)(),(0,t.iD)("button",{key:0,onClick:e[26]||(e[26]=(...l)=>r.triggerFileHall&&r.triggerFileHall(...l)),class:"btn btn-block btn-default"},"Добавити")):(0,t.kq)("",!0)])]),(0,t._)("div",bl,[fl,yl,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"URL","onUpdate:modelValue":e[27]||(e[27]=l=>o.urlHall=l)},null,512),[[n.nr,o.urlHall]])]),(0,t._)("div",kl,[Al,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Title","onUpdate:modelValue":e[28]||(e[28]=l=>o.titleHall=l)},null,512),[[n.nr,o.titleHall]])]),(0,t._)("div",_l,[Hl,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"word","onUpdate:modelValue":e[29]||(e[29]=l=>o.keywordsHall=l)},null,512),[[n.nr,o.keywordsHall]])]),(0,t._)("div",wl,[Cl,(0,t.wy)((0,t._)("textarea",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":e[30]||(e[30]=l=>o.descriptionSeoHall=l)},"\r\n                      ",512),[[n.nr,o.descriptionSeoHall]])])]),(0,t._)("div",Fl,[(0,t._)("button",{onClick:e[31]||(e[31]=(...l)=>r.saveHall&&r.saveHall(...l)),class:"btn btn-primary"},"Зберегти")])],32)])])):(0,t.kq)("",!0),(0,t._)("div",vl,[Il,Dl,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"URL","onUpdate:modelValue":e[35]||(e[35]=l=>o.url=l)},null,512),[[n.nr,o.url]])]),(0,t._)("div",Bl,[Ll,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"Title","onUpdate:modelValue":e[36]||(e[36]=l=>o.title=l)},null,512),[[n.nr,o.title]])]),(0,t._)("div",Ul,[Sl,(0,t.wy)((0,t._)("input",{type:"text",class:"form-control",placeholder:"word","onUpdate:modelValue":e[37]||(e[37]=l=>o.keywords=l)},null,512),[[n.nr,o.keywords]])]),(0,t._)("div",xl,[Vl,(0,t.wy)((0,t._)("textarea",{type:"text",class:"form-control",placeholder:"Description","onUpdate:modelValue":e[38]||(e[38]=l=>o.descriptionSeo=l)},"\r\n              ",512),[[n.nr,o.descriptionSeo]])])]),(0,t._)("div",El,[(0,t._)("button",{onClick:e[39]||(e[39]=(...l)=>r.saveCinema&&r.saveCinema(...l)),class:"btn btn-primary"},"Зберегти")])])])])}var ql=a(355),Gl=a(650),Nl={setup(){},data(){return{cinema:{},nameCinema:"",description:"",descriptionHall:"",conditions:"",cinemaLogo:null,schemeHall:null,fileCinemaLogo:null,fileBannerFoto:null,fileBannerFoto2:null,fileScheneHall:null,bannerFoto:null,bannerFoto2:null,galleryImgs:[],galleryImgs2:[],halls:[],url:"",urlHall:"",title:"",titleHall:"",keywords:"",keywordsHall:"",descriptionSeo:"",descriptionSeoHall:"",fileImgSrc:null,fileGalleryImg:[],fileGalleryImg2:[],modalHall:!1}},methods:{changeFileCinema(l){this.fileCinemaLogo=l.target.files[0],this.cinemaLogo=URL.createObjectURL(this.fileCinemaLogo)},triggerCinemaLogo(){this.$refs.cinemaLogo.click()},changeFileBanner(l){this.fileBannerFoto=l.target.files[0],this.bannerFoto=URL.createObjectURL(this.fileBannerFoto)},triggerBannerFoto(){this.$refs.bannerFoto.click()},changeFileHall(l){this.fileScheneHall=l.target.files[0],this.schemeHall=URL.createObjectURL(this.fileScheneHall)},triggerSchemeHall(){this.$refs.schemeHall.click()},changeFileBanner2(l){this.fileBannerFoto2=l.target.files[0],this.bannerFoto2=URL.createObjectURL(this.fileBannerFoto2)},triggerBannerFoto2(){this.$refs.bannerFoto2.click()},handleFileChange2(l){this.fileGalleryImg=[...l.target.files];for(let e of this.fileGalleryImg)this.imageSrc2=URL.createObjectURL(e),this.galleryImgs.push(this.imageSrc2)},handleFileHall(l){this.fileGalleryImg2=[...l.target.files];for(let e of this.fileGalleryImg2){const l=URL.createObjectURL(e);this.galleryImgs2.push(l)}},triggerFileInput2(){this.$refs.fileInput2.click()},triggerFileHall(){this.$refs.fileHall.click()},deleteCinemaLogo(){this.cinemaLogo=null},deleteBannerFoto(){this.bannerFoto=null},deleteSchemeHall(){this.schemeHall=null},deleteBannerFoto2(){this.bannerFoto2=null},deleteGalleryImg(l){this.galleryImgs.splice(l,1)},deleteGalleryImg2(l){this.galleryImgs2.splice(l,1)},deleteHall(){},addHall(){""!==this.nameCinema&&(this.modalHall=!0,document.documentElement.classList.add("modal-open"))},closeHall(){this.modalHall=!1,document.documentElement.classList.remove("modal-open")},async saveHall(){const l=(0,ql.N8)(),e=(0,Gl.cF)(),a=`cinemas/${this.nameCinema}/halls/${this.nameHall}`,t=(0,ql.iH)(l,a);if((0,ql.t8)(t,{name:this.nameHall,date:this.dateHall,description:this.descriptionHall,schemeHall:this.schemeHall,bannerHall:this.bannerFoto2,galleryImages:this.galleryImgs2,url:this.urlHall,title:this.titleHall,keywords:this.keywordsHall,descriptionSeo:this.descriptionSeoHall}),this.fileScheneHall){const l=(0,Gl.iH)(e,`cinemas/${this.nameCinema}/schemeHall`);(0,Gl.KV)(l,this.fileScheneHall).then((l=>{(0,Gl.Jt)(l.ref).then((l=>{(0,ql.Vx)(t,{schemeHall:l})}))}))}if(this.fileBannerFoto2){const l=(0,Gl.iH)(e,`cinemas/${this.nameCinema}/bannerHall`);(0,Gl.KV)(l,this.fileBannerFoto2).then((l=>{(0,Gl.Jt)(l.ref).then((l=>{(0,ql.Vx)(t,{bannerHall:l})}))}))}const n=await(0,ql.U2)(t),i=n.val()&&n.val().galleryImages||[],s=[...i];await Promise.all(this.fileGalleryImg2.map((async l=>{const a="image-"+Date.now()+Math.floor(1e3*Math.random()),t=(0,Gl.iH)(e,`cinemas/${this.nameCinema}/galleryImgsHalls/${this.nameHall}/${a}`);await(0,Gl.KV)(t,l);const n=await(0,Gl.Jt)(t);s.push({name:a,url:n})}))),(0,ql.Vx)(t,{galleryImages:s}),this.closeHall()},async getHall(){const l=(0,ql.N8)(),e=(0,ql.iH)(l,"cinemas/"+this.nameCinema);await new Promise((l=>{(0,ql.jM)(e,(e=>{e.exists()?(this.cinema=e.val(),"undefined"!==typeof this.cinema.galleryImages&&Array.isArray(this.cinema.galleryImages)?this.galleryImages=this.film.galleryImages:this.galleryImages=[],this.halls=this.cinema.halls):console.log("Кінотеатр не знайдено"),l()}))}))},async saveCinema(){const l=(0,ql.N8)(),e=(0,Gl.cF)(),a=`cinemas/${this.nameCinema}`,t=(0,ql.iH)(l,a);if((0,ql.t8)(t,{id:t.key,nameCinema:this.nameCinema,description:this.description,conditions:this.conditions,cinemaLogo:this.cinemaLogo,bannerFoto:this.bannerFoto,halls:this.halls,url:this.url,title:this.title,keywords:this.keywords,descriptionSeo:this.descriptionSeo}),this.fileCinemaLogo){const l=(0,Gl.iH)(e,`cinemas/${t.key}/cinemaLogo`);(0,Gl.KV)(l,this.fileCinemaLogo).then((l=>{(0,Gl.Jt)(l.ref).then((l=>{(0,ql.Vx)(t,{cinemaLogo:l})}))}))}if(this.fileBannerFoto){const l=(0,Gl.iH)(e,`cinemas/${t.key}/bannerFoto`);(0,Gl.KV)(l,this.fileBannerFoto).then((l=>{(0,Gl.Jt)(l.ref).then((l=>{(0,ql.Vx)(t,{bannerFoto:l})}))}))}const n=await(0,ql.U2)(t),i=n.val()&&n.val().galleryImages||[],s=[...i];await Promise.all(this.fileGalleryImg.map((async l=>{const a="image-"+Date.now()+Math.floor(1e3*Math.random()),n=(0,Gl.iH)(e,`cinemas/${t.key}/galleryImgs/${a}`);await(0,Gl.KV)(n,l);const i=await(0,Gl.Jt)(n);s.push({name:a,url:i})}))),(0,ql.Vx)(t,{galleryImages:s}),this.$router.push("theatres"),this.nameCinema="",this.description="",this.conditions="",this.cinemaLogo=null,this.bannerFoto=null,this.galleryImgs=[],this.halls=[],this.url="",this.title="",this.keywords="",this.descriptionSeo=""}},async mounted(){await this.getHall()}},Kl=a(744);const Ml=(0,Kl.Z)(Nl,[["render",Rl]]);var jl=Ml}}]);
//# sourceMappingURL=78.86239dd8.js.map
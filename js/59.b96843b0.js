"use strict";(self["webpackChunkkinocms"]=self["webpackChunkkinocms"]||[]).push([[59],{59:function(e,s,n){n.r(s),n.d(s,{default:function(){return ye}});var a=n(252),t=n(963),i=n(577);const l={class:"container"},o={class:"card card-primary"},r=(0,a._)("div",{class:"card-header"},[(0,a._)("h3",{class:"card-title"},"Наскрізний банер на задньому плані")],-1),c={class:"card-body"},d={class:"seamless-input"},p={class:"imageRadio"},h={key:0},b={class:"divRadio"},g=["src"],u={class:"imageRadio"},w={key:0},m={for:"color-input"},k={key:0,class:"message"},f={class:"radio-footer"},v=["disabled"];function y(e,s,n,y,B,N){const T=(0,a.up)("BannerTop"),_=(0,a.up)("BannerNews");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(T),(0,a._)("div",l,[(0,a._)("div",o,[r,(0,a._)("div",null,[(0,a._)("div",c,[(0,a._)("div",d,[(0,a._)("div",null,[(0,a._)("label",p,[(0,a.wy)((0,a._)("input",{type:"radio","onUpdate:modelValue":s[0]||(s[0]=e=>B.selectedOption=e),value:"image"},null,512),[[t.G2,B.selectedOption]]),(0,a.Uk)(" Фото на фон ")]),"image"===B.selectedOption?((0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("input",{type:"file",ref:"fileRadio",class:"input-radio",onChange:s[1]||(s[1]=(...e)=>N.fileRagioBack&&N.fileRagioBack(...e))},null,544),B.imageRadio?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:s[2]||(s[2]=(...e)=>N.radioFileInput&&N.radioFileInput(...e)),class:"btn btn-baner btn-default"},"Добавити")),(0,a._)("div",b,[B.imageRadio?((0,a.wg)(),(0,a.iD)("img",{key:0,src:B.imageRadio,class:"imgInput"},null,8,g)):(0,a.kq)("",!0),B.imageRadio?((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:s[3]||(s[3]=e=>B.imageRadio=""),class:"btn btn-baner btn-default"},"Видалити")):(0,a.kq)("",!0)])])):(0,a.kq)("",!0)]),(0,a._)("div",null,[(0,a._)("label",u,[(0,a.wy)((0,a._)("input",{type:"radio","onUpdate:modelValue":s[4]||(s[4]=e=>B.selectedOption=e),value:"color"},null,512),[[t.G2,B.selectedOption]]),(0,a.Uk)(" Просто фон ")]),"color"===B.selectedOption?((0,a.wg)(),(0,a.iD)("div",w,[(0,a._)("label",m,[(0,a.Uk)(" Колір: "),(0,a.wy)((0,a._)("input",{type:"color","onUpdate:modelValue":s[5]||(s[5]=e=>B.selectedColor=e),id:"color-input"},null,512),[[t.nr,B.selectedColor]])]),(0,a._)("div",{style:(0,i.j5)({backgroundColor:B.selectedColor,width:"100px",height:"100px"})},null,4)])):(0,a.kq)("",!0)])])]),B.showMessage?((0,a.wg)(),(0,a.iD)("div",k,(0,i.zw)(B.message),1)):(0,a.kq)("",!0),(0,a._)("div",f,[(0,a._)("button",{onClick:s[6]||(s[6]=(...e)=>N.saveSeamless&&N.saveSeamless(...e)),class:"btn btn-primary",type:"submit",disabled:""===B.selectedOption},"Зберегти",8,v)])])])]),(0,a.Wm)(_)],64)}const B={class:"container"},N={class:"card card-primary"},T={class:"card-header"},_=(0,a._)("h3",{class:"card-title"},"На головній сторінці зверху",-1),C={class:"panel-body"},x={class:"switch"},D=(0,a._)("div",{class:"slider round"},null,-1),R={class:"card-body"},I={class:"file-input"},F={key:1,class:"delete-img"},M=["src"],q=["onClick"],O={key:0,class:"message"},U={class:"card-footer"},H={class:"col-sm-6"},V={class:"form-group"},$=(0,a._)("label",null,"Швидкість обертання",-1),S=(0,a.uE)('<option value="1">1 сек</option><option value="2">2 сек</option><option value="3">3 сек</option><option value="4">4 сек</option><option value="5">5 сек</option>',5),j=[S],E=["disabled"];function L(e,s,n,l,o,r){return(0,a.wg)(),(0,a.iD)("div",B,[(0,a._)("div",N,[(0,a._)("div",T,[_,(0,a._)("div",C,[(0,a._)("label",x,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=e=>o.checkboxTopBanner=e),onClick:s[1]||(s[1]=(...e)=>r.toggleCheckbox&&r.toggleCheckbox(...e))},null,512),[[t.e8,o.checkboxTopBanner]]),D])])]),(0,a._)("div",null,[(0,a._)("div",R,[(0,a._)("div",I,[(0,a._)("input",{type:"file",ref:"fileInput2",class:"input-baner",onChange:s[2]||(s[2]=(...e)=>r.handleFileChange&&r.handleFileChange(...e)),multiple:""},null,544),0==o.banerTop.length?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:s[3]||(s[3]=(...e)=>r.triggerFileInput&&r.triggerFileInput(...e)),class:"btn btn-baner btn-default"},"Добавити")):(0,a.kq)("",!0),o.banerTop.length>=1?((0,a.wg)(),(0,a.iD)("div",F,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.banerTop,((e,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"image-delete",key:s},[e?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.url,class:"imgInput"},null,8,M)):(0,a.kq)("",!0),e?((0,a.wg)(),(0,a.iD)("span",{key:1,class:"deleteSpan",onClick:e=>r.deleteBannerTop(s)},"x",8,q)):(0,a.kq)("",!0)])))),128)),o.banerTop.length>=1?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:s[4]||(s[4]=(...e)=>r.triggerFileInput&&r.triggerFileInput(...e)),class:"btn btn-block btn-default"},"Добавити")):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])]),o.showMessage?((0,a.wg)(),(0,a.iD)("div",O,(0,i.zw)(o.message),1)):(0,a.kq)("",!0),(0,a._)("div",U,[(0,a._)("div",H,[(0,a._)("div",V,[$,(0,a.wy)((0,a._)("select",{class:"form-control","onUpdate:modelValue":s[5]||(s[5]=e=>o.speedTopBanner=e)},j,512),[[t.bM,o.speedTopBanner]])])]),(0,a._)("button",{onClick:s[6]||(s[6]=(...e)=>r.saveBaner&&r.saveBaner(...e)),class:"btn btn-primary",type:"submit",disabled:0===o.banerTop.length},"Зберегти",8,E)])])])])}var K=n(355),P=n(650),z={data(){return{checkboxTopBanner:!1,speedTopBanner:1,banners:{},banerTop:[],fileBanerTop:[],message:"Збережено!",showMessage:!1,doneTop:!1}},methods:{handleFileChange(e){this.fileBanerTop=[...e.target.files];for(let s of this.fileBanerTop){const e=URL.createObjectURL(s);this.banerTop.push({url:e})}},triggerFileInput(){this.$refs.fileInput2.click()},deleteBanerTop(e){this.banerTop.splice(e,1),this.fileBanerTop.splice(e,1)},async deleteBannerTop(e){let s;this.banerTop.forEach(((n,a)=>{a===e&&(s=n)})),this.banerTop.splice(e,1),this.fileBanerTop.splice(e,1);const n=(0,P.cF)(),a=`banners/bannerTop/${s.name}`,t=(0,P.iH)(n,a);try{await(0,P.oq)(t),console.log(`Файл з індексом ${s.name} успішно видалено`)}catch(r){console.error(`Помилка видалення файлу з індексом ${s.name}:`,r)}const i=(0,K.N8)(),l=`banners/bannerTop/image/${e}`,o=(0,K.iH)(i,l);await(0,K.Od)(o).then((()=>{console.log("Item successfully deleted from Realtime Database")})).catch((e=>{console.log("Error deleting item from Realtime Database: ",e)}))},async saveBaner(){const e=(0,K.N8)(),s=(0,P.cF)(),n="banners/bannerTop",a=(0,K.iH)(e,n),t=await(0,K.U2)(a),i=t.val()&&t.val().image||[],l=[...i];this.fileBanerTop!==[]&&await Promise.all(this.fileBanerTop.map((async e=>{const n="bannerTop-"+Date.now()+Math.floor(1e3*Math.random()),a=(0,P.iH)(s,`banners/bannerTop/${n}`);await(0,P.KV)(a,e);const t=await(0,P.Jt)(a);l.push({name:n,url:t})}))),console.log(l),(0,K.Vx)(a,{checked:this.checkboxTopBanner,speed:this.speedTopBanner,image:l}),this.fileBanerTop=[],this.showMessage=!0,setTimeout((()=>{this.showMessage=!1}),3e3)},async getBanners(){const e=(0,K.N8)(),s=(0,K.iH)(e,"banners");await new Promise((e=>{(0,K.jM)(s,(s=>{s.exists()?(this.banners=s.val(),this.doneTop=!0,this.banerTop=this.banners.bannerTop.image,this.checkboxTopBanner=this.banners.bannerTop.checked,this.speedTopBanner=this.banners.bannerTop.speed):(console.log("Баннер не знайдено"),this.doneTop=!1),e()}))}))},toggleCheckbox(){this.checkboxTopBanner=!this.checkboxTopBanner,this.$emit("setCheckboxVal",this.checkboxTopBanner)}},async mounted(){await this.getBanners()}},J=n(744);const Y=(0,J.Z)(z,[["render",L]]);var Z=Y;const G={class:"container"},W={class:"card card-primary"},A={class:"card-header"},Q=(0,a._)("h3",{class:"card-title"},"На головній Новини Акції",-1),X={class:"panel-body"},ee={class:"switch"},se=(0,a._)("div",{class:"slider round"},null,-1),ne={class:"card-body"},ae={class:"file-input"},te={key:1,class:"delete-img"},ie=["src"],le=["onClick"],oe={key:0,class:"message"},re={class:"card-footer"},ce={class:"col-sm-6"},de={class:"form-group"},pe=(0,a._)("label",null,"Швидкість обертання",-1),he=(0,a.uE)('<option value="1">1 сек</option><option value="2">2 сек</option><option value="3">3 сек</option><option value="4">4 сек</option><option value="5">5 сек</option>',5),be=[he],ge=["disabled"];function ue(e,s,n,l,o,r){return(0,a.wg)(),(0,a.iD)("div",G,[(0,a._)("div",W,[(0,a._)("div",A,[Q,(0,a._)("div",X,[(0,a._)("label",ee,[(0,a.wy)((0,a._)("input",{type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=e=>o.checkboxBannerNews=e),onClick:s[1]||(s[1]=(...e)=>r.toggleCheckboxNews&&r.toggleCheckboxNews(...e))},null,512),[[t.e8,o.checkboxBannerNews]]),se])])]),(0,a._)("div",null,[(0,a._)("div",ne,[(0,a._)("div",ae,[(0,a._)("input",{type:"file",ref:"fileInputNews",class:"input-baner",onChange:s[2]||(s[2]=(...e)=>r.newsFileChange&&r.newsFileChange(...e)),multiple:""},null,544),0==o.banerNews.length?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:s[3]||(s[3]=(...e)=>r.newsFileInput&&r.newsFileInput(...e)),class:"btn btn-baner btn-default"},"Добавити")):(0,a.kq)("",!0),o.banerNews.length>=1?((0,a.wg)(),(0,a.iD)("div",te,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.banerNews,((e,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"image-delete",key:s},[e?((0,a.wg)(),(0,a.iD)("img",{key:0,src:e.url,class:"imgInput"},null,8,ie)):(0,a.kq)("",!0),e?((0,a.wg)(),(0,a.iD)("span",{key:1,class:"deleteSpan",onClick:e=>r.deleteBannerNews(s)},"x",8,le)):(0,a.kq)("",!0)])))),128)),o.banerNews.length>=1?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:s[4]||(s[4]=(...e)=>r.newsFileInput&&r.newsFileInput(...e)),class:"btn btn-block btn-default"},"Добавити")):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])]),o.showMessage?((0,a.wg)(),(0,a.iD)("div",oe,(0,i.zw)(o.message),1)):(0,a.kq)("",!0),(0,a._)("div",re,[(0,a._)("div",ce,[(0,a._)("div",de,[pe,(0,a.wy)((0,a._)("select",{class:"form-control","onUpdate:modelValue":s[5]||(s[5]=e=>o.speedBannerNews=e)},be,512),[[t.bM,o.speedBannerNews]])])]),(0,a._)("button",{onClick:s[6]||(s[6]=(...e)=>r.saveBanerNews&&r.saveBanerNews(...e)),class:"btn btn-primary",type:"submit",disabled:0===o.banerNews.length},"Зберегти",8,ge)])])])])}var we={data(){return{checkboxBannerNews:!1,speedBannerNews:1,banners:{},banerNews:[],fileBanerNews:[],message:"Збережено!",showMessage:!1,doneTop:!1}},methods:{newsFileChange(e){this.fileBanerNews=[...e.target.files];for(let s of this.fileBanerNews){const e=URL.createObjectURL(s);this.banerNews.push({url:e})}},newsFileInput(){this.$refs.fileInputNews.click()},async deleteBannerNews(e){let s;this.banerNews.forEach(((n,a)=>{a===e&&(s=n)})),this.banerNews.splice(e,1),this.fileBanerNews.splice(e,1);const n=(0,P.cF)(),a=`banners/bannerNews/${s.name}`,t=(0,P.iH)(n,a);try{await(0,P.oq)(t),console.log(`Файл з індексом ${s.name} успішно видалено`)}catch(r){console.error(`Помилка видалення файлу з індексом ${s.name}:`,r)}const i=(0,K.N8)(),l=`banners/bannerNews/image/${e}`,o=(0,K.iH)(i,l);await(0,K.Od)(o).then((()=>{console.log("Item successfully deleted from Realtime Database")})).catch((e=>{console.log("Error deleting item from Realtime Database: ",e)}))},async saveBanerNews(){const e=(0,K.N8)(),s=(0,P.cF)(),n="banners/bannerNews",a=(0,K.iH)(e,n),t=await(0,K.U2)(a),i=t.val()&&t.val().image||[],l=[...i];this.fileBanerNews!==[]&&await Promise.all(this.fileBanerNews.map((async e=>{const n="bannerNews-"+Date.now()+Math.floor(1e3*Math.random()),a=(0,P.iH)(s,`banners/bannerNews/${n}`);await(0,P.KV)(a,e);const t=await(0,P.Jt)(a);l.push({name:n,url:t})}))),console.log(l),(0,K.Vx)(a,{checked:this.checkboxBannerNews,speed:this.speedBannerNews,image:l}),this.fileBanerNews=[],this.showMessage=!0,setTimeout((()=>{this.showMessage=!1}),3e3)},async getBannersNews(){const e=(0,K.N8)(),s=(0,K.iH)(e,"banners");await new Promise((e=>{(0,K.jM)(s,(s=>{s.exists()?(this.banners=s.val(),this.doneTop=!0,this.banerNews=this.banners.bannerNews.image,this.checkboxBannerNews=this.banners.bannerNews.checked,this.speedBannerNews=this.banners.bannerNews.speed):(console.log("Баннер не знайдено"),this.doneTop=!1),e()}))}))},toggleCheckboxNews(){this.checkboxBannerNews=!this.checkboxBannerNews,this.$emit("setCheckboxVal",this.checkboxBannerNews)}},async mounted(){await this.getBannersNews()}};const me=(0,J.Z)(we,[["render",ue]]);var ke=me,fe={data(){return{selectedOption:"",selectedColor:"#000000",imageRadio:"",fileImageRadio:"",message:"Збережено!",showMessage:!1}},components:{BannerTop:Z,BannerNews:ke},methods:{fileRagioBack(e){const s=e.target.files[0];this.fileImageRadio=s,this.imageRadio=URL.createObjectURL(s)},radioFileInput(){this.$refs.fileRadio.click()},saveSeamless(){const e=(0,K.N8)(),s=(0,P.cF)(),n="banners/seamless",a=(0,K.iH)(e,n);if("image"===this.selectedOption){const e=(0,P.iH)(s,"banners/seamless/imageSeamless");(0,P.KV)(e,this.fileImageRadio).then((e=>{(0,P.Jt)(e.ref).then((e=>{(0,K.Vx)(a,{select:this.selectedOption,imageSeamless:e})}))}))}else"color"===this.selectedOption&&(0,K.t8)(a,{select:this.selectedOption,color:this.selectedColor});this.showMessage=!0,setTimeout((()=>{this.showMessage=!1}),3e3)},async getSeamless(){const e=(0,K.N8)(),s=(0,K.iH)(e,"banners");await new Promise((e=>{(0,K.jM)(s,(s=>{s.exists()?(this.banners=s.val(),this.selectedOption=this.banners.seamless.select,"image"===this.selectedOption?this.imageRadio=this.banners.seamless.imageSeamless:this.selectedColor=this.banners.seamless.color):console.log("Баннер не знайдено"),e()}))}))}},async mounted(){await this.getSeamless()}};const ve=(0,J.Z)(fe,[["render",y]]);var ye=ve}}]);
//# sourceMappingURL=59.b96843b0.js.map